(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[701],{16:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/basket",function(){return n(4528)}])},7720:function(e,s,n){"use strict";var t=n(5893),c=n(7294),i=n(5007),r=n(796),l=n(7741),a=n(9633),d=n(4687),u=n(1163);s.Z=function(e){let{image:s,price:n,quantity:o,number:h,name:x,productId:j,removeBtn:m,maxCount:p,orderQuantity:v}=e,{loginData:_}=(0,i.v9)(a.YN),{guestUserId:f}=(0,i.v9)(r.KY),k=(0,i.I0)(),{pathname:g}=(0,u.useRouter)(),N=e=>{k((0,l.IV)({userToken:_.access_token,productId:e,guestUserId:f}))},b=(e,s,n,t)=>{"-"===n&&(s>1?k((0,l.u_)({userToken:_.access_token,productId:e,productCount:1*s-1,guestUserId:f})):k((0,l.IV)({userToken:_.access_token,productId:e,guestUserId:f}))),"+"===n&&s<t&&k((0,l.u_)({userToken:_.access_token,productId:e,productCount:1*s+1,guestUserId:f}))};return(0,c.useEffect)(()=>{},[g]),(0,t.jsxs)("div",{className:"basket__item",children:[(0,t.jsx)("p",{children:h}),(0,t.jsx)("div",{className:"basket__item-img",children:(0,t.jsx)("img",{src:"https://back.brend-instrument.ru/"+s,alt:"img"})}),(0,t.jsx)("h4",{children:x}),(0,t.jsxs)("p",{className:"price",children:[n," ₽"]}),(0,t.jsx)("div",{className:"counter",children:(0,t.jsx)("div",{className:"counter-flex",children:"/checkout"!==g&&"/orderSingle/[id]"!==g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>b(j,o,"-",p),children:(0,t.jsx)(d.V_,{})}),(0,t.jsx)("span",{children:o}),(0,t.jsx)("button",{onClick:()=>b(j,o,"+",p),children:(0,t.jsx)(d.pO,{})})]}):(0,t.jsx)("span",{children:v||o})})}),(0,t.jsxs)("p",{className:"total-price",children:[v?v*n:o*n," ₽"]}),"/checkout"!==g&&"/orderSingle/[id]"!==g?(0,t.jsx)("button",{className:"remove-btn",onClick:()=>N(j),children:(0,t.jsx)(d.HF,{})}):""]})}},1575:function(e,s,n){"use strict";var t=n(5893),c=n(7294),i=n(7720),r=n(5007),l=n(796),a=n(7741),d=n(9633),u=n(1163);s.Z=function(){let{cartData:e,guestUserId:s}=(0,r.v9)(l.KY),[n,o]=(0,c.useState)(!1),{loginData:h}=(0,r.v9)(d.YN),x=(0,r.I0)(),{pathname:j}=(0,u.useRouter)();return(0,c.useEffect)(()=>{e.length<1&&!n&&(x((0,a.x7)({userToken:h.access_token,guestUserId:s})),o(!0))},[e]),(0,c.useEffect)(()=>{},[j]),(0,t.jsxs)("div",{className:"basket__products",children:[(0,t.jsxs)("div",{className:"basket__products-title",children:[(0,t.jsx)("p",{children:"№"}),(0,t.jsx)("p",{children:"Фото"}),(0,t.jsx)("p",{children:"Наименование"}),(0,t.jsx)("p",{children:"Цена"}),(0,t.jsx)("p",{children:"Количество"}),(0,t.jsx)("p",{children:"Сумма"}),"/checkout"!==j?(0,t.jsx)("p",{children:"удалить"}):""]}),e.length&&(null==e?void 0:e.map((e,s)=>{var n,c;return(0,t.jsx)(i.Z,{image:e.attributes.image,price:e.price,quantity:e.quantity&&e.quantity,number:s+1,name:e.name,productId:e.id,removeBtn:!0,maxCount:(null===(n=e.conditions)||void 0===n?void 0:n.quantity)&&(null===(c=e.conditions)||void 0===c?void 0:c.quantity)},e.id)}))]})}},8232:function(e,s,n){"use strict";var t=n(5893),c=n(1664),i=n.n(c),r=n(7294);s.Z=function(e){let{title:s,links:n}=e;return(0,t.jsx)("div",{className:"brendcrumbs",children:(0,t.jsxs)("div",{className:"brendcrumbs__container _container",children:[(0,t.jsx)(i(),{href:"/",children:"Главная"}),(0,t.jsx)("svg",{width:6,height:10,viewBox:"0 0 6 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M-5.13609e-08 1.175L3.7085 5L-3.85753e-07 8.825L1.1417 10L6 5L1.1417 -2.12363e-07L-5.13609e-08 1.175Z",fill:"#333333"})}),(null==n?void 0:n.length)?n.map((e,s)=>(0,t.jsxs)(r.Fragment,{children:[(0,t.jsx)(i(),{href:e.link,children:e.name}),(0,t.jsx)("svg",{width:6,height:10,viewBox:"0 0 6 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M-5.13609e-08 1.175L3.7085 5L-3.85753e-07 8.825L1.1417 10L6 5L1.1417 -2.12363e-07L-5.13609e-08 1.175Z",fill:"#333333"})})]},s)):"",(0,t.jsx)("p",{children:s})]})})}},1449:function(e,s,n){"use strict";var t=n(5893);n(7294),s.Z=function(){return(0,t.jsxs)("div",{className:"load-screen",id:"load-screen",children:[(0,t.jsx)("span",{}),(0,t.jsx)("span",{}),(0,t.jsx)("span",{})]})}},4528:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return p}});var t=n(5893),c=n(7294),i=n(5007),r=n(796),l=n(7741),a=n(9633),d=n(4687);n(7720);var u=n(1664),o=n.n(u);n(1449);var h=n(9184),x=n(1575),j=function(){let{cartData:e,guestUserId:s}=(0,i.v9)(r.KY),{loginData:n}=(0,i.v9)(a.YN),[u,j]=(0,c.useState)(!1),[m,p]=(0,c.useState)(0),v=(0,i.I0)(),_=()=>{if(e.length){let s=e.reduce((e,s)=>e+s.price*s.quantity,0);p(s),v((0,r.Sw)({sum:s}))}};return(0,c.useEffect)(()=>{u||(v((0,l.x7)({userToken:n.access_token,guestUserId:s})),j(!0)),_()},[u,e,m]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("section",{className:"basket",children:(0,t.jsxs)("div",{className:"basket__container _container",children:[(0,t.jsx)("h1",{children:"Ваша корзина"}),e.length?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Z,{}),(0,t.jsx)("div",{className:"basket__total",children:(0,t.jsxs)("p",{children:["Общая сумма:",(0,t.jsxs)("span",{children:[m," ₽"]})]})}),(0,t.jsxs)("div",{className:"basket__buttons",children:[(0,t.jsxs)("a",{href:"#",children:[(0,t.jsx)(d.Bc,{}),"Вернуться в магазин"]}),(0,t.jsxs)(o(),{href:"/checkout",onClick:()=>{_(),v((0,h.gW)({toggle:!1}))},children:["Оформить заказ",(0,t.jsx)(d.NB,{})]})]})]}):(0,t.jsxs)("div",{className:"basket__empty",children:[(0,t.jsx)("p",{children:"Ваша корзина пуста"}),(0,t.jsxs)(o(),{href:"/",children:[" ",(0,t.jsx)(d.Bc,{})," Продолжить покупки"]})]})]})})})},m=n(8232);function p(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Z,{title:"Корзина"}),(0,t.jsx)(j,{})]})}},1163:function(e,s,n){e.exports=n(3035)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=16)}),_N_E=e.O()}]);